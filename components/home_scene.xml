<?xml version="1.0" encoding="utf-8" ?>
<component name="home_scene" extends="Scene" initialFocus="tv_row">
  <script type="text/brightscript" uri="pkg:/components/home_scene.brs" />
  <children>
    <!-- Background image with purple overlay -->
    <Poster
      id="background_image"
      uri="pkg:/images/splash_fhd.png"
      width="1920"
      height="1080"
      translation="[0,0]"
      loadDisplayMode="scaleToFit" />
    
    <!-- Purple overlay mask to dampen colors -->
    <Rectangle
      id="overlay_mask"
      width="1920"
      height="1080"
      translation="[0,0]"
      color="0x662D91"
      opacity="0.7" />
    
    <!-- CAROUSEL SECTION (Rows animate within this space) -->
    <Rectangle
      id="carousel_section"
      translation="[0, 520]"
      width="1920"
      height="560"
      color="0x00000000">
      
      <!-- Container for all rows - will be animated -->
      <Group id="rows_container" translation="[0, 0]">
        
        <!-- TV Row -->
        <Group id="tv_row_group" translation="[0, 0]">
          <Label
            id="tv_label"
            translation="[100, 20]"
            font="font:LargeBoldSystemFont"
            color="0xFFFFFF"
            text="TV" />
          
          <PosterGrid
            id="tv_row"
            translation="[100, 70]"
            basePosterSize="[350, 245]"
            itemSpacing="[50, 0]"
            numRows="1"
            numColumns="5"
            numRowsVisible="1"
            numColumnsVisible="5"
            visible="true" />
        </Group>
        
        <!-- Radio Row -->
        <Group id="radio_row_group" translation="[0, 400]">
          <Label
            id="radio_label"
            translation="[100, 20]"
            font="font:LargeBoldSystemFont"
            color="0xFFFFFF"
            text="Radio" />
          
          <PosterGrid
            id="radio_row"
            translation="[100, 70]"
            basePosterSize="[350, 245]"
            itemSpacing="[50, 0]"
            numRows="1"
            numColumns="5"
            numRowsVisible="1"
            numColumnsVisible="5"
            visible="true" />
        </Group>
        
        <!-- Live Row -->
        <Group id="live_row_group" translation="[0, 800]">
          <Label
            id="live_label"
            translation="[100, 20]"
            font="font:LargeBoldSystemFont"
            color="0xFFFFFF"
            text="Live" />
          
          <PosterGrid
            id="live_row"
            translation="[100, 70]"
            basePosterSize="[350, 245]"
            itemSpacing="[50, 0]"
            numRows="1"
            numColumns="5"
            numRowsVisible="1"
            numColumnsVisible="5"
            visible="true" />
        </Group>
        
      </Group>
    </Rectangle>
    
    <!-- PREVIEW AREA SECTION - Rendered LAST for highest z-index -->
    <Rectangle
      id="preview_section_overlay"
      translation="[0, 0]"
      width="1920"
      height="520"
      color="0x000000">
      
      <Rectangle
        id="preview_container"
        translation="[460, 60]"
        width="1000"
        height="400"
        color="0x000000"
        opacity="0.8">
        
        <!-- Left section: Thumbnail with black background -->
        <Rectangle
          id="thumbnail_bg"
          translation="[20, 20]"
          width="450"
          height="360"
          color="0x000000" />
        
        <Poster
          id="preview_thumbnail"
          translation="[20, 20]"
          width="450"
          height="360"
          loadDisplayMode="scaleToFit" />
        
        <!-- Divider line -->
        <Rectangle
          id="divider"
          translation="[490, 20]"
          width="2"
          height="360"
          color="0xFFFFFF" />
        
        <!-- Right section: Title and Description -->
        <Label
          id="preview_title"
          translation="[510, 40]"
          width="460"
          font="font:LargeBoldSystemFont"
          color="0xFFFFFF"
          wrap="true"
          maxLines="3"
          text="" />
        
        <Label
          id="preview_description"
          translation="[510, 140]"
          width="460"
          height="220"
          font="font:MediumSystemFont"
          color="0xCCCCCC"
          wrap="true"
          text="" />
      </Rectangle>
    </Rectangle>
    
    <!-- Stream Navigation Modal (shown during playback) -->
    <Rectangle
      id="stream_nav_modal"
      visible="false"
      translation="[50, 400]"
      width="200"
      height="280"
      color="0x000000"
      opacity="0.7">
      
      <!-- Up arrow and next stream -->
      <Label
        id="nav_up_arrow"
        translation="[85, 20]"
        font="font:LargeSystemFont"
        color="0xFFFFFF"
        text="▲" />
      <Label
        id="nav_next_title"
        translation="[10, 60]"
        width="180"
        font="font:SmallSystemFont"
        color="0xCCCCCC"
        wrap="true"
        text="" />
      
      <!-- Divider -->
      <Rectangle
        translation="[10, 140]"
        width="180"
        height="2"
        color="0xFFFFFF" />
      
      <!-- Down arrow and previous stream -->
      <Label
        id="nav_down_arrow"
        translation="[85, 160]"
        font="font:LargeSystemFont"
        color="0xFFFFFF"
        text="▼" />
      <Label
        id="nav_prev_title"
        translation="[10, 200]"
        width="180"
        font="font:SmallSystemFont"
        color="0xCCCCCC"
        wrap="true"
        text="" />
    </Rectangle>
    
    <!-- Radio background poster (shown during radio playback) -->
    <Rectangle
      id="radio_bg_container"
      visible="false"
      translation="[0,0]"
      width="1920"
      height="1080"
      color="0x000000">
      <Poster
        id="radio_background"
        translation="[0,0]"
        width="1920"
        height="1080"
        loadDisplayMode="scaleToFill" />
    </Rectangle>
    
    <Video
      id="videoplayer"
      visible="false"
      translation="[0,0]"
      width="1920"
      height="1080" />
    
    <Dialog
      id="exit_dialog"
      title="Salir"
      message="¿Está seguro? Presione el botón Atrás nuevamente para salir."
      visible="false" />
    
    <Dialog
      title=""
      visible="false"
      id="error_dialog" />
  </children>
</component>